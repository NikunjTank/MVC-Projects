@model InfrrdTest.Models.FormModel

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>


@using (Html.BeginForm("Index", "Saveform", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>FormModel</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.CategoryID, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.CategoryID, new SelectList(Model.CategoryCollection, "CategoryID", "CategoryName"), "Select the Category", new { @class = "form-control", @id = "ddlCategory" })
                @Html.ValidationMessageFor(model => model.CategoryID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Year, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Year, new { htmlAttributes = new { @class = "form-control datepicker" } })
                @Html.ValidationMessageFor(model => model.Year, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Amount, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Amount, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Amount, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </div>
    </div>
}

    <div>

        <br />
        <br />

        @Html.ActionLink("Go to Summary", "Result")
    </div>

@section Scripts
{
    @Scripts.Render("~/bundles/jqueryval")

    @Scripts.Render("~/bundles/jqueryui")
    @Styles.Render("~/Content/cssjqryUi")

    <script type="text/javascript">

        $("#btnSubmit").click(function () {

            var ddlCategory = $("#ddlCategory");
            debugger;
            if (ddlCategory.val() == "") {
                alert("Please select a value in dropdown list!");
                return false;
            }
            return true;
        });

        $(document).ready(function () { //Initialise any date pickers
            $('.datepicker').datepicker({
                dateFormat: "dd/M/yy",
                changeMonth: true,
                changeYear: true,
                //yearRange: "-60:+0",
                minDate: '01/Jan/2015',
                maxDate: '31/Dec/2021',
            }); 
   

            
            //displayToastr();

        });

        function displayToastr() {

            // Display a info toast, with no title
            toastr.info('Hi Mahedee, This information for you.')

            // Display a warning toast, with no title
            toastr.warning('Hi Mahedee, This the first warning for you!')

            // Display a success toast, with a title
            toastr.success('Yes! You have successfully completed your task!', 'Congratulation for you, Mahedee!')

            // Display an error toast, with a title
            toastr.error('An error occured in the solution!', 'Please contact with system administrator.')
        }



    </script>



    <script src="~/scripts/toastr.js"></script>
    <script>
                        $(function () {
                            var a = '@TempData["msg"]';
                            if (a != '')
                                toastr.success("", a);
                            //alert("ab" + a)
                            window.location = '#2249506';
                        })
    </script>


}
